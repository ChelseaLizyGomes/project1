<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" , initial-scale="1.0" />
    <title>Product-details</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />

    <style>
      #prodetails {
        display: flex;
        margin-top: 40px;
      }
      
      #prodetails .single-pro-image {
        width: 400px; /* Set the desired width */
    height: 500px; /* Set the desired height */
    overflow: hidden; /* Hide any overflow */
    display: flex;
        margin-right: 50px;
      }

      #prodetails .single-pro-details {
        width: 50%;
        padding-top: 30px; 
        text-align: left; 
      }

      #prodetails .single-pro-details h4 {
        padding: 40px 0px 20px 0px;
        text-align: left;
      }
      /* Using !important to override other rules */
#prodetails .single-pro-details,
.card--price,
.price,
.size,
.size-option,
.quantity,
.description {
    text-align: left !important;
}

    </style>
  </head>

  <body>
    <header class="header">
      <nav class="header--bar">
        <div class="icon">
          <i class="fa-solid fa-bars"></i>
        </div>
        <h1>EASTSIDE</h1>
        <div class="search--box">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input type="text" placeholder="Search...." id="searchBar" />
        </div>

        <div class="icons">
          <div class="cart-icon">
            <i class="fa-solid fa-cart-shopping"></i>
            <span>0</span>
          </div>
        </div>
      </nav>
    </header>
    <div class="product-details">
      <div id="productDetailContainer">
        <!-- Product details will be dynamically inserted here -->
      </div>
    </div>
    <!-- Notification Box -->
    <div id="notificationBox" class="notification-box">
      <span id="notificationText"></span>
    </div>

    <div class="sidebar" id="sidebar">
      <div class="sidebar-close">
        <i class="fa-solid fa-close"></i>
      </div>
      <div class="cart-menu">
        <h3>My Cart</h3>
        <div class="cart-tems"></div>
      </div>
      <div class="sidebar--footer">
        <div class="total--amount">
          <h5>Total</h5>
          <div class="cart-total"></div>
        </div>
        <button class="checkout-btn">Checkout</button>
      </div>
    </div>

    <script>
      window.onload = function () {
        const urlParams = new URLSearchParams(window.location.search);
        const productId = parseInt(urlParams.get("id")); // Retrieve product ID from URL query parameter
        const size = urlParams.get("size"); // Retrieve product size from URL query parameter
        const quantity = parseInt(urlParams.get("quantity")); // Retrieve product quantity from URL query parameter and ensure it's an integer

        function showNotification() {
          var notificationBox = document.getElementById("notificationBox");
          var notificationText = document.getElementById("notificationText");

          notificationText.textContent = "Item Added to cart!";
          notificationBox.style.display = "block";

          // Hide the notification after a delay (e.g., 1 second)
          setTimeout(function () {
            notificationBox.style.display = "none";
          }, 1000); // Adjust the delay as needed
        }

        // Example: Fetch product details based on productId
        const product = getProductDetails(productId);

        if (product) {
          // Display product details on the page
          const productDetailContainer = document.getElementById(
            "productDetailContainer"
          );
          productDetailContainer.innerHTML = `
            <section id="prodetails" class="section-p1">
                
                  <div class="single-pro-image"> 
                    <img src="${product.imageUrl}" alt="${
            product.name
          }" width="100%" height="100%" id="MainImg"/>
                </div>
                <div class="single-pro-details">
                    <h4>${product.name}</h4>
                    <div class="card--price"> 
                        <div class="price">Rs.${product.price}</div>
                        <div class="size">Size:
                            <label class="size-option"> 
                                <input type="radio" name="size" value="small" ${
                                  size === "small" ? "checked" : ""
                                }>
                                <span class="size-label">S</span>
                            </label>
                            <label class="size-option">
                                <input type="radio" name="size" value="medium" ${
                                  size === "medium" ? "checked" : ""
                                }>
                                <span class="size-label">M</span>
                            </label>
                            <label class="size-option">
                                <input type="radio" name="size" value="large" ${
                                  size === "large" ? "checked" : ""
                                }>
                                <span class="size-label">L</span>
                            </label>
                        </div>
                        <div class="quantity">
                            <label for="quantity" class="quantity">Quantity:</label>
                            <input type="number" id="quantity" name="quantity" value="${quantity}" min="1">
                        </div>
                        <p class="description">${product.description}</p>
                        <button class="add-to-cart" data-id="${
                          product.id
                        }">Add to cart</button>
                    </div>
                </div>   
            </section>
        `;

          // Add event listener for add to cart button
          const addToCartButton = document.querySelector(".add-to-cart");
          addToCartButton.addEventListener("click", () => {
            const item = {
              id: product.id,
              name: product.name,
              price: product.price,
              imageUrl: product.imageUrl,
              size: document.querySelector('input[name="size"]:checked').value,
              quantity: parseInt(document.getElementById("quantity").value),
            };

            // Send the item data to the main page to add to cart
            window.parent.postMessage(
              { action: "add-to-cart", item: item },
              "*"
            );

            showNotification();
          });
        } else {
          console.error("Product not found");
        }
      };

      class Product {
        constructor(id, name, price, description, imageUrl) {
          this.id = id;
          this.name = name;
          this.price = price;
          this.description = description;
          this.imageUrl = imageUrl;
        }

        static getProductById(productId) {
          return products.find((product) => product.id === productId);
        }
      }

      // Example products data
      const products = [
        new Product(
          1,
          "Knee-length Party Dotted Dress",
          1200,
          "Classy 1950s Style Polka Dot Dress: Square Neckline, Mini Bowknot at Bust Area with Cut Out Design, High Waist, Fit Flare Style, Zip in Back. Perfect for Daily Casual, Dating, Vintage Fashion Show, Cocktail Party, Tea Party, Theme Costume Wear or other Special Occasions..",
          "assets/images/WomenD1.webp"
        ),
        new Product(
          2,
          "Office Knee Length Dress",
          700,
          "Office Women Knee Length Dress | Women Fit and Flare Knee-Length Dress will help you embrace elegance. Its fit-and-flare style will highlight your curves and keep you comfortable for the entire day. Its timeless silhouette and elegant neckline exudes sophistication and comfort at the same time. Last but not least, turn heads in our Mock Neck Crepe Fit and Flare Dress made from opulent crepe fabric, it has a mock neckline that gives it a contemporary twist",
          "assets/images/WomenD2.jpg"
        ),
        new Product(
          3,
          "Long Silk Summer Dress",
          598,
          "Beach Women Silky Long Dress: V- Neckline, High Waist, Fit Flare Style, Zip in side-ways. Perfect for Picnic, Photoshoot , Daily Casual, Dating, Fashion Show, Cocktail Party or other Special Occasions..",
          "assets/images/WomenD3.jpg"
        ),
        new Product(
          4,
          "Bodycon Western Office Dress",
          400,
          "Western Office Women Knee Length Dress | Women body-fit Knee-Length Dress will help you embrace elegance. Its style will highlight your curves and its smooth material will keep you comfortable for the entire day. Last but not least, its sleevless hands ensure that you can flaunt your hands and also enjoy the breeze",
          "assets/images/WomenD4.jpg"
        ),
        //need to change product description
        new Product(
          5,
          "Georgtte Print Flared Dress",
          850,
          "Regular Georgette Women's Dress, Suitable Gift for Christmas, New Year, Valentines Day, Birthday, Wedding, Anniversary, Party Wear, Meternity ",
          "assets/images/WomenD5.jpg"
        ),
        new Product(
          6,
          "Lace Overlaid Regular Dress",
          900,
          " Miss Chase Women's Beige & Wine Round Neck Sleeveless Georgette Floral Lace Fit & Flare Maxi Dress, 100 % Polyester | Suitable for Party wear, evening wear, night-out wear.",
          "assets/images/WomenD6.jpg"
        ),
        new Product(
          7,
          "Beach Mini Women Dress",
          499,
          "Mini Length Women Dress | Made Of Breathable Rayon Fabric That Allows Air Circulation And Keeps You Cool All Day Long. This Fit & Flair Style Western Dress is Lightweight, Breathable, Stretchy & Incredibly Soft To The Skin. It can be worn for a variety of occasions, from casual daywear to formal events.",
          "assets/images/WomenD7.jpg"
        ),
        new Product(
          8,
          "Plus Size Layered Maxi Dress",
          2900,
          "Women's Plus Size Purple Solid Color Georgette Layered Maxi Dress With Attached Lining, has a V-Neck, 3/4th sleeves has flounce hem. It's Maxi length and relaxed pattern makes it easy to be a fit for any occasion from formal to casual.",
          "assets/images/WomenD8.jpg"
        ),
        new Product(
          9,
          "Collared Casual Formal Soild Shirt",
          599,
          "Mens Maroon/Plum Slim Fit Shirt.This stylish shirt features a spread collar with full sleeves, made from a comfortable cotton, this shirt is both durable and breathable. This shirt can be worn for any occasion, whether it's a night out with friends or a casual day at work.",
          "assets/images/menS1.webp"
        ),
        new Product(
          10,
          "Linen Cotton Long Sleeve Casual Shirt",
          699,
          "This Casual Solid shirt has a Slim fit, Spread collar, full button Placket, Full Sleeves, and a curved hemline Size and Fit Slim Fit. Enhance your look by wearing this Casual Stylish Men's shirt, Team it with a pair of Chinos or Tapered Denim and Sneakers for a fun Smart Casual look. Its 100% Premium Cottton, extremely soft finish and Rich look is best for casual & smart casual wear.",
          "assets/images/menS2.webp"
        ),
        new Product(
          11,
          "Campus Sutra Regular Shirt",
          624,
          "Regular fit Pure cotton fabric shirt can be worn for casual wear, party wear and so on. sutra.We suggest teaming it with a pair of jeans and casual shoes for a great look.",
          "assets/images/MenS3.webp"
        ),
        new Product(
          12,
          "Premium Cotton Formal Shirt",
          1299,
          "Modern Casual shirt with perfect fitting made with 100% premium cotton fabric can be teamed up with your favourite pair of denims or formal trousers to make distinctive style statement. For long lasting durability use a steam press after every wash.",
          "assets/images/MenS4.jpg"
        ),
        new Product(
          13,
          "Allen Solly Casual Half-sleeve Shirt",
          1780,
          "Slim Fit Casual Half Sleeves shirt.Crafted using high-quality cotton, this shirt is the epitome of breathable comfort suitable for long summer days. With its eye-catching yellow augmented by a half sleeve, this shirt is an unmissable newbie in your wardrobe. Get ready to step out in style with the Allen Solly latest collection.",
          "assets/images/MenS6.jpg"
        ),
        new Product(
          14,
          "Casual Half-sleeve Shirt",
          680,
          "Enhance your Style Quotient Wearing this Stylish Yet Comfortable Tailored Fit Linen Cotton Formal Shirt by Southbay, featuring the Slim Cut Spread Collar, Single Patch Pocket on the chest and the Fitted Half Sleeves. This Fitted Half Hand Shirt has the Distinctive Thread Stitching and Trim Highlights with Curved Hem and Metallic Brand Logo Embellishment. The Specialized Cotton Fabric Makes it Soft, Comfortable, Breathable and Easy to Wash, Iron and Dry instantly. You can also Pair it with Some Smart Shorts or Jogger Pants, Athleisure Wear when going on a Leisure Trip or a Relaxed Outing for the Ultimate Comfort & Style. It is Pre-Enzyme Washed for Super Soft Touch & Feel Experience, comfortable to wear all day long.",
          "assets/images/MenS5.jpg"
        ),
        new Product(
          15,
          "Rose print casual shirt",
          599,
          "Rose print casual shirt for men | Enhance your look by wearing this Casual Stylish Men's shirt, Team it with a pair of tapered denims Or Solid Chinos and Loafers for a fun Smart Casual look. Its print will give you grasp with the latest trends and fashion. Its material is 100% cotton that can ensure you have a long day at ease. ",
          "assets/images/MenS11.jpg"
        ),
        new Product(
          16,
          "Floral-Print Casual shirt",
          500,
          "blue floral print casual shirt for men | Enhance your look by wearing this Casual Stylish Men's shirt, Team it with a pair of tapered denims Or Solid Chinos and Loafers for a fun Smart Casual look. Its print will give you grasp with the latest trends and fashion. Its material is 100% cotton that can ensure you have a long day at ease. ",
          "assets/images/MenSs.webp"
        ),
        new Product(
          17,
          "Luggage Bag",
          2149,
          " Unique design and durable lightweight case, unique and stylish. Extremely light weight, will not be an extra burden to children when they go or on the way to travel. A space for you, especially suits for holiday/vacation/long journey travel. Lock type: Zipper, number of compartments: 2, capacity- 18 kg Water resistant, light in weight, handel type: extendable, weight: 1.5 kg Water resistant, light in weight, handel type: extendable, dimensions - 24*30*53 cm, weight:- 1.5 kg",
          "assets/images/LuggageBag.jpg"
        ),
        new Product(
          18,
          "Necklace-set Combo",
          799,
          "Summer Beaded Necklace, Beach Necklace, Cowrie Shell Necklace, Summer Layers, Ivory Beads, Shell Jewelry, Gift for Her, Made in Greece.",
          "assets/images/necklace.jpg"
        ),
        new Product(
          19,
          "Wrist watch",
          1800,
          "Stay fashionable with this watch. This Analogue watch has Round Dial. The Silver colored straps in the watch are Stylish with Japanese Quartz.  Dial Color: White | Dial Diameter: 38 mm |Thickness: 8mm | Band Width:22mm | Max Perimeter: 220mm | Min Perimeter: 160mm. Stainless Steel Chain | Stainless Steel Back | Resist. Package Includes:1 Watch | Company Box | Card Gst Paid Bill and 1 year Warranty.",
          "assets/images/Wristwatch.jpg"
        ),
        new Product(
          20,
          "Winter Jacket",
          1400,
          "Winter jacket for women. This Puffer nylon Jacket will keep your body warm all day and night. Its a perfect purchase for heavy winter wear. Its  Relaxed-Fit in Soft Fabric with Warmth makes one feel at ease. Its hood is a cherry on top.",
          "assets/images/jacket.jpg"
        ),
        new Product(
          21,
          "Leather Shoes",
          2780,
          "Elevate your office attire with SIGN APP Patent Leather Lace-Ups, designed for the discerning gentleman. Crafted from premium Patent Leather, these shoes offer a sophisticated, polished look and enduring durability. The cushioned insole and breathable lining ensure exceptional comfort throughout the day. With robust construction and meticulous stitching, these shoes provide excellent value for daily wear. Perfect for any formal occasion.",
          "assets/images/leathershoes.png"
        ),
        new Product(
          22,
          " Canvas Totebag",
          1600,
          "The tote handbag comes in a stunning colour scheme of bright yellow, white, and black, making the bag a perfect showstopper. The black vertical designs of the cotton tote bag are expertly handcrafted and pair beautifully with the yellow and white background. Apart from its aesthetic appeal, the tote bag is also highly functional, thanks to its premium quality materials.",
          "assets/images/Totebag.webp"
        ),
        new Product(
          23,
          "Flower Shaped Earrings",
          1200,
          "These earrings are lightweight and comfortable to wear, making them suitable for all-day wear. It can be worn with both ethnic and western wear which makes it a perfect addition to your jewellery collection.This exquisite piece is ideal for office and everyday wear collection, and is a must-have for every woman.",
          "assets/images/goldEar.jpg"
        ),
        new Product(
          24,
          "Casual Walking Sneakers",
          1499,
          "If you are looking for stylish and casual sneakers for women, these chunky sneakers are the go-to shoes for women. These sneakers have a thick sole that provides both comfort and support for your feet while adding a bounce to your stride. They also have a soft and cozy feel that makes them ideal for everyday wear.",
          "assets/images/expShoes.jpg"
        ),
        
      ];

      function getProductDetails(productId) {
        return Product.getProductById(productId);
      }
    </script>

    <script src="script.js"></script>
  </body>
</html>

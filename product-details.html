<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" , initial-scale="1.0" />
    <title>Product-details</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />

    <style>
        #prodetails {
            display: flex;
            margin-top: 40px;
        }

        #prodetails .single-pro-image {
            width: 30%;
            height: 20%;
            margin-right: 50px;
        }

        #prodetails .single-pro-details {
            width: 50%;
            padding-top: 30px;
            align-items: flex-start;
        }

        #prodetails .single-pro-details h4 {
            padding: 40px 0px 20px 0px;

        }
    </style>
</head>

<body>
    <script src="script.js"> </script>

    <header class="header">
        <nav class="header--bar">
            <div class="icon">
                <i class="fa-solid fa-bars"></i>

            </div>
            <h1>EASTSIDE</h1>
            <div class="search--box">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" placeholder="Search...." id="searchBar">
            </div>

            <div class="icons">
                <div class="cart-icon">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <span>0</span>
                </div>
            </div>
        </nav>
    </header>
    <div class="product-details">
        <div id="productDetailContainer">
            <!-- Product details will be dynamically inserted here -->
        </div>
    </div>


    <script>

        // Method to generate HTML for product details
       /*             <img src="${this.imageUrl}" alt="${this.name}" />
                 <h4 class="card--title">${this.name}</h4>
                 <div class="card--price">
                     <div class="price">Rs.${this.price}</div>
                     <button class="add-to-cart">Add to cart</button>
                 </div>
             </div> `;

              this.size = size;
                this.quantity = quantity;
             
         }
     }*/

        window.onload = function () {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = parseInt(urlParams.get('id')); // Retrieve product ID from URL query parameter //to ensure productId is an integer
            const size = urlParams.get('size'); // Retrieve product size from URL query parameter
            const quantity = parseInt(urlParams.get('quantity')); // Retrieve product quantity from URL query parameter and ensure it's an integer

            // Example: Fetch product details based on productId
            const product = getProductDetails(productId);

            if (product) {
                // Example: Display product details on the page
                const productDetailContainer = document.getElementById('productDetailContainer');
                productDetailContainer.innerHTML = `
          <section id="prodetails" class="section-p1">
            <div class="single-pro-image"> 
                 <img src="${product.imageUrl}" alt="${product.name}" width="100%" id="MainImg"/></div>

                 <div class="single-pro-details">
                 <h4>${product.name}</h4>
                 <div class="card--price">
                     <div class="price">Rs.${product.price}</div>
                      <div class="size">Size:
                         <label class="size-option">
                            <input type="radio" name="size" value="small" ${size === 'small' ? 'checked' : ''}>
                            <span class="size-label">S</span>
                        </label>
                        <label class="size-option">
                            <input type="radio" name="size" value="medium" ${size === 'medium' ? 'checked' : ''}>
                            <span class="size-label">M</span>
                        </label>
                        <label class="size-option">
                            <input type="radio" name="size" value="large" ${size === 'large' ? 'checked' : ''}>
                            <span class="size-label">L</span>
                        </label>
                    </div>
                    <div class="quantity">
                        <label for="quantity" class="quantity">Quantity:</label>
                        <input type="number" id="quantity" name="quantity" value="${quantity}" min="1">
                    </div>
                     <p>${product.description}</p>
                     <button class="add-to-cart">Add to cart</button>
                 </div>
             </div>   
             </section>
        `;
        //<div class="card">
            } else {
                console.error('Product not found');
            }
        };
        class Product {
            constructor(id, name, price, description, imageUrl) {
                this.id = id;
                this.name = name;
                this.price = price;
                this.description = description;
                this.imageUrl = imageUrl;
            }

            static getProductById(productId) {
                return products.find(product => product.id === productId);
            }
        }

        // Create Product instances
        const products = [
            new Product(1,
                'Knee-length Party Dotted Dress',
                1200,
                'Lorem ipsum dolor sit amet.',
                'assets/images/WomenD1.webp')
            ,
            new Product(2,
                'Office Knee Length Dress',
                700,
                'Ut enim ad minim veniam.',
                'assets/images/WomenD2.jpg')
            // Add more products as needed
        ];

        //calls the static getProductById method of the Product class to fetch the product details.
        function getProductDetails(productId) {
            return Product.getProductById(productId);
        }



    </script>


</body>

</html>